import{r as t,al as Q,am as F,j as e,an as H,ao as E,ap as V,aq as T,a3 as _,ar as z,B as q}from"./index-nOuz7UgQ.js";import{C as G,a as X,b as U,c as $,d as J}from"./card-B-5X0doo.js";import{I as r}from"./input-DklGojSC.js";import{L as f}from"./label-BgUwjubx.js";import{u as W,e as Y,S as k,a as D,b as P,c as w,d as l}from"./select-DT7Kb_gw.js";import{C as Z}from"./date-picker-B-Lwwkpp.js";import{D as ee}from"./data-table-Ba5JECbl.js";import{S as ae}from"./save-DtQdiY68.js";import"./table-4xI31D1l.js";var I="Checkbox",[se,Ne]=H(I),[te,re]=se(I),A=t.forwardRef((a,d)=>{const{__scopeCheckbox:c,name:h,checked:x,defaultChecked:i,required:v,disabled:u,value:j="on",onCheckedChange:b,form:m,...N}=a,[n,g]=t.useState(null),C=Q(d,o=>g(o)),s=t.useRef(!1),K=n?m||!!n.closest("form"):!0,[y=!1,R]=F({prop:x,defaultProp:i,onChange:b}),M=t.useRef(y);return t.useEffect(()=>{const o=n==null?void 0:n.form;if(o){const S=()=>R(M.current);return o.addEventListener("reset",S),()=>o.removeEventListener("reset",S)}},[n,R]),e.jsxs(te,{scope:c,state:y,disabled:u,children:[e.jsx(E.button,{type:"button",role:"checkbox","aria-checked":p(y)?"mixed":y,"aria-required":v,"data-state":L(y),"data-disabled":u?"":void 0,disabled:u,value:j,...N,ref:C,onKeyDown:V(a.onKeyDown,o=>{o.key==="Enter"&&o.preventDefault()}),onClick:V(a.onClick,o=>{R(S=>p(S)?!0:!S),K&&(s.current=o.isPropagationStopped(),s.current||o.stopPropagation())})}),K&&e.jsx(ce,{control:n,bubbles:!s.current,name:h,value:j,checked:y,required:v,disabled:u,form:m,style:{transform:"translateX(-100%)"},defaultChecked:p(i)?!1:i})]})});A.displayName=I;var B="CheckboxIndicator",O=t.forwardRef((a,d)=>{const{__scopeCheckbox:c,forceMount:h,...x}=a,i=re(B,c);return e.jsx(T,{present:h||p(i.state)||i.state===!0,children:e.jsx(E.span,{"data-state":L(i.state),"data-disabled":i.disabled?"":void 0,...x,ref:d,style:{pointerEvents:"none",...a.style}})})});O.displayName=B;var ce=a=>{const{control:d,checked:c,bubbles:h=!0,defaultChecked:x,...i}=a,v=t.useRef(null),u=W(c),j=Y(d);t.useEffect(()=>{const m=v.current,N=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(N,"checked").set;if(u!==c&&g){const C=new Event("click",{bubbles:h});m.indeterminate=p(c),g.call(m,p(c)?!1:c),m.dispatchEvent(C)}},[u,c,h]);const b=t.useRef(p(c)?!1:c);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:x??b.current,...i,tabIndex:-1,ref:v,style:{...a.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function p(a){return a==="indeterminate"}function L(a){return p(a)?"indeterminate":a?"checked":"unchecked"}var ie=A,le=O;function oe({className:a,...d}){return e.jsx(ie,{"data-slot":"checkbox",className:_("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...d,children:e.jsx(le,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:e.jsx(z,{className:"size-3.5"})})})}const ne=["ABC Pharmaceuticals","MedLife Supplies","HealthPlus Distributors","PharmaCare Ltd","Global Meds Inc"],de=[{id:"ORD-001",supplier:"ABC Pharmaceuticals",date:"2025-03-15",status:"Pending"},{id:"ORD-002",supplier:"MedLife Supplies",date:"2025-03-20",status:"Approved"},{id:"ORD-003",supplier:"HealthPlus Distributors",date:"2025-03-25",status:"Delivered"}],ue=[{id:"1",itemNo:1,drugName:"Paracetamol 500mg",invoiceNo:"INV-001",invoiceDate:"2025-03-15",expiryDate:"2027-03-15",orderedQty:1e3,receivedQty:1e3,unitPrice:10,discount:5,bonus:0,totalPrice:9500,receivedDate:"2025-04-01",manufacturer:"ABC Pharma",mfgDate:"2024-03-15",batchNo:"BT-001",invoiceStatus:"Received"},{id:"2",itemNo:2,drugName:"Amoxicillin 250mg",invoiceNo:"INV-001",invoiceDate:"2025-03-15",expiryDate:"2026-09-15",orderedQty:500,receivedQty:500,unitPrice:15,discount:3,bonus:25,totalPrice:7275,receivedDate:"2025-04-01",manufacturer:"MedLife",mfgDate:"2024-02-10",batchNo:"BT-045",invoiceStatus:"Received"},{id:"3",itemNo:3,drugName:"Ciprofloxacin 500mg",invoiceNo:"INV-002",invoiceDate:"2025-03-16",expiryDate:"2027-01-20",orderedQty:300,receivedQty:300,unitPrice:25,discount:2,bonus:0,totalPrice:7350,receivedDate:"2025-04-02",manufacturer:"HealthPlus",mfgDate:"2024-01-15",batchNo:"BT-112",invoiceStatus:"Received"}],he=[{accessorKey:"itemNo",header:"Item No",cell:({row:a})=>e.jsx("div",{className:"text-center",children:a.original.itemNo})},{accessorKey:"drugName",header:"Drug Name",cell:({row:a})=>e.jsx(r,{defaultValue:a.original.drugName,className:"h-8"})},{accessorKey:"invoiceNo",header:"Invoice No",cell:({row:a})=>e.jsx(r,{defaultValue:a.original.invoiceNo,className:"h-8 w-24"})},{accessorKey:"invoiceDate",header:"Invoice Date",cell:({row:a})=>e.jsx(r,{type:"date",defaultValue:a.original.invoiceDate,className:"h-8 w-32"})},{accessorKey:"expiryDate",header:"Exp. Date",cell:({row:a})=>e.jsx(r,{type:"date",defaultValue:a.original.expiryDate,className:"h-8 w-32"})},{accessorKey:"orderedQty",header:"O Qty",cell:({row:a})=>e.jsx(r,{type:"number",defaultValue:a.original.orderedQty.toString(),className:"h-8 w-16"})},{accessorKey:"receivedQty",header:"R Qty",cell:({row:a})=>e.jsx(r,{type:"number",defaultValue:a.original.receivedQty.toString(),className:"h-8 w-16"})},{accessorKey:"unitPrice",header:"Unit Price",cell:({row:a})=>e.jsx(r,{type:"number",defaultValue:a.original.unitPrice.toString(),className:"h-8 w-20"})},{accessorKey:"discount",header:"Disc (%)",cell:({row:a})=>e.jsx(r,{type:"number",defaultValue:a.original.discount.toString(),className:"h-8 w-16"})},{accessorKey:"bonus",header:"Bonus",cell:({row:a})=>e.jsx(r,{type:"number",defaultValue:a.original.bonus.toString(),className:"h-8 w-16"})},{accessorKey:"totalPrice",header:"Total Price",cell:({row:a})=>e.jsxs("div",{className:"text-right",children:[a.original.totalPrice.toLocaleString()," Ksh"]})},{accessorKey:"receivedDate",header:"Received Date",cell:({row:a})=>e.jsx(r,{type:"date",defaultValue:a.original.receivedDate,className:"h-8 w-32"})},{accessorKey:"manufacturer",header:"Manufacturer",cell:({row:a})=>e.jsxs(k,{defaultValue:a.original.manufacturer,children:[e.jsx(D,{className:"h-8 w-full",children:e.jsx(P,{placeholder:"Select"})}),e.jsxs(w,{children:[e.jsx(l,{value:"ABC Pharma",children:"ABC Pharma"}),e.jsx(l,{value:"MedLife",children:"MedLife"}),e.jsx(l,{value:"HealthPlus",children:"HealthPlus"}),e.jsx(l,{value:"PharmaCare",children:"PharmaCare"})]})]})},{accessorKey:"mfgDate",header:"Mfg Date",cell:({row:a})=>e.jsx(r,{type:"date",defaultValue:a.original.mfgDate,className:"h-8 w-32"})},{accessorKey:"batchNo",header:"Batch No",cell:({row:a})=>e.jsx(r,{defaultValue:a.original.batchNo,className:"h-8 w-20"})},{accessorKey:"invoiceStatus",header:"Invoice Status",cell:({row:a})=>e.jsxs(k,{defaultValue:a.original.invoiceStatus,children:[e.jsx(D,{className:"h-8 w-full",children:e.jsx(P,{placeholder:"Select"})}),e.jsxs(w,{children:[e.jsx(l,{value:"Pending",children:"Pending"}),e.jsx(l,{value:"Received",children:"Received"}),e.jsx(l,{value:"Partial",children:"Partial"}),e.jsx(l,{value:"Rejected",children:"Rejected"})]})]})},{accessorKey:"actions",header:"Actions",cell:()=>e.jsxs(k,{defaultValue:"save",children:[e.jsx(D,{className:"h-8 w-full",children:e.jsx(P,{placeholder:"Action"})}),e.jsxs(w,{children:[e.jsx(l,{value:"save",children:"Save"}),e.jsx(l,{value:"cancel",children:"Cancel"})]})]})}];function Ce(){const[a,d]=t.useState(""),[c,h]=t.useState(""),[x,i]=t.useState(new Date),[v,u]=t.useState(""),[j,b]=t.useState(""),[m,N]=t.useState(""),[n,g]=t.useState([]),C=()=>{alert("All drug receipts saved successfully!")};return t.useEffect(()=>{g(ue)},[]),e.jsx("div",{className:"container grid grid-cols-1 py-6",children:e.jsxs(G,{children:[e.jsxs(X,{children:[e.jsx(U,{className:"text-2xl",children:"Receive Drugs"}),e.jsx($,{children:"Record received drugs from suppliers"})]}),e.jsxs(J,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"supplier",children:"Supplier"}),e.jsxs(k,{value:a,onValueChange:d,children:[e.jsx(D,{id:"supplier",className:"w-full",children:e.jsx(P,{placeholder:"Select supplier"})}),e.jsx(w,{children:ne.map(s=>e.jsx(l,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"order-no",children:"Order No"}),e.jsxs(k,{value:c,onValueChange:h,children:[e.jsx(D,{id:"order-no",className:"w-full",children:e.jsx(P,{placeholder:"Select order"})}),e.jsx(w,{children:de.map(s=>e.jsx(l,{value:s.id,children:s.id},s.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"lpo-status",children:"LPO Status"}),e.jsx(r,{id:"lpo-status",value:v,onChange:s=>u(s.target.value),className:"w-full",readOnly:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"remarks",children:"Remarks"}),e.jsx(r,{id:"remarks",value:m,onChange:s=>N(s.target.value),className:"w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"order-date",children:"Order Date"}),e.jsx(Z,{value:x,onChange:i})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"approved-by",children:"Approved by"}),e.jsx(r,{id:"approved-by",value:j,onChange:s=>b(s.target.value),className:"w-full"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(oe,{id:"verified"}),e.jsx(f,{htmlFor:"verified",className:"font-medium text-sm",children:"I verify that all drugs have been received in good condition and match the order details"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx(ee,{columns:he,data:n,showGlobalFilter:!1,showPagination:!1})}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsxs(q,{onClick:C,className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-4 w-4"}),"Save All"]})})]})]})})}export{Ce as default};
