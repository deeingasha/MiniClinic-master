import{r as a,as as d,j as e,B as m,L as f}from"./index-nOuz7UgQ.js";import{C as g,a as y,b as N,c as S,d as C}from"./card-B-5X0doo.js";import{I as b}from"./input-DklGojSC.js";import{S as v,a as w,b as O,c as P,d as t}from"./select-DT7Kb_gw.js";import{P as L}from"./AddPurchaseOrder-HTltqD-t.js";import{D as A}from"./data-table-Ba5JECbl.js";import{P as D}from"./plus-CZDVeQSw.js";import{S as E}from"./search-B6zcHxLG.js";import{E as K}from"./eye-BOx9CZOj.js";import"./alert-dialog-Cli71-ps.js";import"./index-3ZGvXOoV.js";import"./form-ofhE3mRP.js";import"./label-BgUwjubx.js";import"./table-4xI31D1l.js";import"./date-picker-B-Lwwkpp.js";import"./separator-D8j4061u.js";import"./x-uWU76mA2.js";const T=[{accessorKey:"lpoNo",header:"LPO No"},{accessorKey:"supplier",header:"Supplier"},{accessorKey:"date",header:"Date"},{accessorKey:"totalAmount",header:"Amount",cell:({row:s})=>`Ksh.${s.original.totalAmount}`},{accessorKey:"status",cell:({row:s})=>e.jsx("div",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold ${s.original.status==="Completed"?"bg-green-100 text-green-800":s.original.status==="Pending"?"bg-yellow-100 text-yellow-800":s.original.status==="Approved"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:s.original.status})},{id:"actions",header:"Actions",cell:({row:s})=>e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(m,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(f,{to:`/pharmacy/purchase-orders/${s.original.id}`,children:e.jsx(K,{className:"h-4 w-4"})})})})}];function Y(){const[s,c]=a.useState([]),[l,u]=a.useState(""),[p,x]=a.useState(null),[h,n]=a.useState(!1);return a.useEffect(()=>{const r=d.filter(o=>{const i=l.toLowerCase();return o.supplier.toLowerCase().includes(i)||o.lpoNo.toLowerCase().includes(i)||o.drugs.some(j=>j.toLowerCase().includes(i))});c(r)},[l]),a.useEffect(()=>{c(d)},[]),e.jsxs("div",{className:"container mx-auto py-6",children:[e.jsxs(g,{children:[e.jsxs(y,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(N,{className:"text-2xl",children:"Purchase Orders"}),e.jsx(S,{children:"Manage and track all pharmacy purchase orders"})]}),e.jsxs(m,{onClick:()=>n(!0),children:[e.jsx(D,{className:"mr-2 h-4 w-4"})," New Purchase Order"]})]}),e.jsxs(C,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 w-full max-w-sm",children:[e.jsx(E,{className:"h-4 w-4 opacity-50"}),e.jsx(b,{placeholder:"Search by supplier or drug...",value:l,onChange:r=>u(r.target.value),className:"flex-1"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(v,{onValueChange:r=>x(r),defaultValue:p||"",children:[e.jsx(w,{className:"w-[180px]",children:e.jsx(O,{placeholder:"Sort by"})}),e.jsxs(P,{children:[e.jsx(t,{value:"date",children:"Date"}),e.jsx(t,{value:"supplier",children:"Supplier"}),e.jsx(t,{value:"lpoNo",children:"LPO Number"}),e.jsx(t,{value:"status",children:"Status"}),e.jsx(t,{value:"totalAmount",children:"Amount"})]})]})})]}),e.jsx("div",{className:"rounded-md border",children:e.jsx(A,{columns:T,data:s})})]})]}),e.jsx(L,{open:h,onOpenChange:n})]})}export{Y as default};
