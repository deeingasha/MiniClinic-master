import{c as u,_ as T,a as D,r as c,as as P,j as e,B as m,$ as o}from"./index-nOuz7UgQ.js";import{C as l,a as i,b as d,c as v,e as M,d as x}from"./card-B-5X0doo.js";import{T as L,a as A,b as h,c as n,d as I,e as t}from"./table-4xI31D1l.js";import{S as U,P as E}from"./AddPurchaseOrder-HTltqD-t.js";import{a as H}from"./date-picker-B-Lwwkpp.js";import{U as w}from"./user-MNTrj_CW.js";import"./alert-dialog-Cli71-ps.js";import"./index-3ZGvXOoV.js";import"./select-DT7Kb_gw.js";import"./input-DklGojSC.js";import"./form-ofhE3mRP.js";import"./label-BgUwjubx.js";import"./separator-D8j4061u.js";import"./plus-CZDVeQSw.js";import"./x-uWU76mA2.js";/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],y=u("arrow-left",_);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],b=u("package",$);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],B=u("truck",q);function te(){const{pk:j}=T(),p=D(),[s,C]=c.useState(null),[S,f]=c.useState(!0),[k,N]=c.useState(!1);if(c.useEffect(()=>{f(!0),setTimeout(()=>{const a=P.find(r=>r.id===j);C(a||null),f(!1)},500)},[j]),S)return e.jsx("div",{className:"container mx-auto py-6 flex items-center justify-center h-[80vh]",children:e.jsx("div",{className:"animate-pulse text-lg",children:"Loading order details..."})});if(!s)return e.jsx("div",{className:"container mx-auto py-6",children:e.jsxs(l,{children:[e.jsxs(i,{children:[e.jsx(d,{children:"Order Not Found"}),e.jsx(v,{children:"The purchase order you're looking for doesn't exist."})]}),e.jsx(M,{children:e.jsxs(m,{variant:"outline",onClick:()=>p("/pharmacy/purchase-orders"),children:[e.jsx(y,{className:"mr-2 h-4 w-4"})," Back to Purchase Orders"]})})]})});const g=s.totalAmount.toLocaleString("en-US",{style:"currency",currency:"Ksh",minimumFractionDigits:2}),O=s.drugs.map((a,r)=>({id:`ITEM-${r+1}`,name:a,quantity:Math.floor(Math.random()*10)+1,unitPrice:Math.floor(Math.random()*1e3)+100}));return e.jsxs("div",{className:"container mx-auto py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(m,{variant:"outline",size:"sm",onClick:()=>p("/pharmacy/purchase-orders"),children:[e.jsx(y,{className:"mr-2 h-4 w-4"})," Back"]}),e.jsx("h1",{className:"text-2xl font-bold",children:"Purchase Order Details"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{variant:"outline",onClick:()=>N(!0),children:"Edit Order"}),e.jsxs(m,{children:[e.jsx(U,{className:"mr-2 h-4 w-4"})," Send to Supplier"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs(l,{children:[e.jsx(i,{children:e.jsx(d,{className:"text-lg",children:"Order Information"})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsxs("div",{className:"w-40 flex items-center gap-2 text-muted-foreground",children:[e.jsx(o,{className:"h-4 w-4"}),e.jsx("span",{children:"Order ID:"})]}),e.jsx("div",{className:"font-medium",children:s.id})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsxs("div",{className:"w-40 flex items-center gap-2 text-muted-foreground",children:[e.jsx(o,{className:"h-4 w-4"}),e.jsx("span",{children:"LPO Number:"})]}),e.jsx("div",{className:"font-medium",children:s.lpoNo})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsxs("div",{className:"w-40 flex items-center gap-2 text-muted-foreground",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsx("span",{children:"Order Date:"})]}),e.jsx("div",{className:"font-medium",children:new Date(s.date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsxs("div",{className:"w-40 flex items-center gap-2 text-muted-foreground",children:[e.jsx(b,{className:"h-4 w-4"}),e.jsx("span",{children:"Status:"})]}),e.jsx("div",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold ${s.status==="Completed"?"bg-green-100 text-green-800":s.status==="Pending"?"bg-yellow-100 text-yellow-800":s.status==="Approved"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:s.status})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsxs("div",{className:"w-40 flex items-center gap-2 text-muted-foreground",children:[e.jsx(b,{className:"h-4 w-4"}),e.jsx("span",{children:"Total Amount:"})]}),e.jsx("div",{className:"font-medium",children:g})]})]})})]}),e.jsxs(l,{children:[e.jsx(i,{children:e.jsx(d,{className:"text-lg",children:"Supplier Information"})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsxs("div",{className:"w-40 flex items-center gap-2 text-muted-foreground",children:[e.jsx(w,{className:"h-4 w-4"}),e.jsx("span",{children:"Supplier:"})]}),e.jsx("div",{className:"font-medium",children:s.supplier})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsxs("div",{className:"w-40 flex items-center gap-2 text-muted-foreground",children:[e.jsx(w,{className:"h-4 w-4"}),e.jsx("span",{children:"Contact:"})]}),e.jsx("div",{className:"font-medium",children:"John Doe"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsxs("div",{className:"w-40 flex items-center gap-2 text-muted-foreground",children:[e.jsx(o,{className:"h-4 w-4"}),e.jsx("span",{children:"Email:"})]}),e.jsx("div",{className:"font-medium",children:`${s.supplier.toLowerCase().replace(" ","")}@example.com`})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsxs("div",{className:"w-40 flex items-center gap-2 text-muted-foreground",children:[e.jsx(o,{className:"h-4 w-4"}),e.jsx("span",{children:"Phone:"})]}),e.jsx("div",{className:"font-medium",children:"+1 (555) 123-4567"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsxs("div",{className:"w-40 flex items-center gap-2 text-muted-foreground",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx("span",{children:"Delivery:"})]}),e.jsx("div",{className:"font-medium",children:s.status==="Completed"?"Delivered":"Pending"})]})]})})]})]}),e.jsxs(l,{className:"mb-6",children:[e.jsxs(i,{children:[e.jsx(d,{className:"text-lg",children:"Order Items"}),e.jsxs(v,{children:["This order contains ",s.totalItems," items"]})]}),e.jsx(x,{children:e.jsxs(L,{children:[e.jsx(A,{children:e.jsxs(h,{children:[e.jsx(n,{children:"Item"}),e.jsx(n,{children:"Description"}),e.jsx(n,{className:"text-right",children:"Quantity"}),e.jsx(n,{className:"text-right",children:"Unit Price"}),e.jsx(n,{className:"text-right",children:"Total"})]})}),e.jsxs(I,{children:[O.map(a=>{const r=a.quantity*a.unitPrice;return e.jsxs(h,{className:"even:bg-muted",children:[e.jsx(t,{className:"font-medium",children:a.id}),e.jsx(t,{children:e.jsx("div",{className:"py-2",children:a.name})}),e.jsx(t,{className:"text-right",children:a.quantity}),e.jsx(t,{className:"text-right",children:a.unitPrice.toLocaleString("en-US",{style:"currency",currency:"Ksh"})}),e.jsx(t,{className:"text-right",children:r.toLocaleString("en-US",{style:"currency",currency:"Ksh"})})]},a.id)}),e.jsxs(h,{children:[e.jsx(t,{colSpan:4,className:"text-right font-medium",children:"Subtotal"}),e.jsx(t,{className:"text-right font-medium",children:g})]})]})]})})]}),e.jsxs(l,{children:[e.jsx(i,{children:e.jsx(d,{className:"text-lg",children:"Order Timeline"})}),e.jsx(x,{children:e.jsxs("div",{className:"relative pl-6 border-l space-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -left-[25px] rounded-full bg-primary w-4 h-4 flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),e.jsxs("div",{className:"mb-1 text-sm font-semibold",children:["Order Created",e.jsx("span",{className:"text-muted-foreground font-normal ml-2",children:new Date(s.date).toLocaleString()})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Purchase order was created by Admin User"})]}),s.status==="Approved"||s.status==="Completed"?e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -left-[25px] rounded-full bg-primary w-4 h-4 flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),e.jsxs("div",{className:"mb-1 text-sm font-semibold",children:["Order Approved",e.jsx("span",{className:"text-muted-foreground font-normal ml-2",children:new Date(new Date(s.date).getTime()+864e5).toLocaleString()})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Purchase order was approved by Finance Manager"})]}):null,s.status==="Completed"?e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -left-[25px] rounded-full bg-primary w-4 h-4 flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),e.jsxs("div",{className:"mb-1 text-sm font-semibold",children:["Order Delivered",e.jsx("span",{className:"text-muted-foreground font-normal ml-2",children:new Date(new Date(s.date).getTime()+864e5*5).toLocaleString()})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Items were received and verified by Pharmacy Manager"})]}):null,s.status==="Cancelled"?e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -left-[25px] rounded-full bg-destructive w-4 h-4 flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),e.jsxs("div",{className:"mb-1 text-sm font-semibold",children:["Order Cancelled",e.jsx("span",{className:"text-muted-foreground font-normal ml-2",children:new Date(new Date(s.date).getTime()+864e5).toLocaleString()})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Purchase order was cancelled by Admin User"})]}):null]})})]}),e.jsx(E,{open:k,onOpenChange:N})]})}export{te as default};
